"use strict";(self.webpackChunkfull_stack_news_client=self.webpackChunkfull_stack_news_client||[]).push([[33],{1638:function(e,n,t){t.d(n,{JR:function(){return l},MK:function(){return y},TX:function(){return f},aL:function(){return d},f_:function(){return m},hr:function(){return v},kN:function(){return k},pE:function(){return h},pH:function(){return p},yQ:function(){return Z}});var r=t(4165),a=t(1413),o=t(5861),c=t(4569),u=t.n(c),i=t(8329),s=function(){return u().create({baseURL:"https://full-stack-news-backend.herokuapp.com",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer ".concat(i.Z.get("token")),credentials:"same-origin"}})},l=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,o.Z)((0,r.Z)().mark((function t(){var o;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s().post("/user/register",e,{headers:(0,a.Z)({},n)});case 2:return o=t.sent,t.abrupt("return",o);case 4:case"end":return t.stop()}}),t)})))},p=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){var t=(0,o.Z)((0,r.Z)().mark((function t(o){var c;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s().post("/user/login",e,{headers:(0,a.Z)({},n)});case 2:c=t.sent,i.Z.set("token",c.data.token),o({type:"SET_USER",payload:c});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},f=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){var t=(0,o.Z)((0,r.Z)().mark((function t(o){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s().post("/user/logout",e,{headers:(0,a.Z)({},n)});case 2:t.sent,i.Z.remove("token"),o({type:"LOGOUT_USER",payload:{}});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},d=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return function(){var u=(0,o.Z)((0,r.Z)().mark((function o(u){var i;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,s().get("/news/".concat(e,"?size=").concat(n,"&page=").concat(t),{headers:(0,a.Z)({},c)});case 2:i=r.sent,u({type:"FETCH_NEWS",payload:i.data});case 4:case"end":return r.stop()}}),o)})));return function(e){return u.apply(this,arguments)}}()},v=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){var t=(0,o.Z)((0,r.Z)().mark((function t(o){var c;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s().get("/news/detail/".concat(e),{headers:(0,a.Z)({},n)});case 2:c=t.sent,o({type:"FETCH_NEWS_DETAIL",payload:c.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var n=(0,o.Z)((0,r.Z)().mark((function n(t){var o;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s().get("/categories",{headers:(0,a.Z)({},e)});case 2:o=n.sent,t({type:"FETCH_CATEGORIES",payload:o.data});case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},y=function(){return function(e){e({type:"CLEAR_NEWS",payload:[]})}},Z=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){var t=(0,o.Z)((0,r.Z)().mark((function t(o){var c;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s().post("/news/",e,{headers:(0,a.Z)({},n)});case 2:c=t.sent,o({type:"ADD_NEWS",payload:c.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m=function(e){var n=e.values,t=e.id,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){var e=(0,o.Z)((0,r.Z)().mark((function e(o){var u;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s().put("/news/".concat(t),n,{headers:(0,a.Z)({},c)});case 2:u=e.sent,o({type:"EDIT_NEWS",payload:u.data});case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},k=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(){var c=(0,o.Z)((0,r.Z)().mark((function o(c){return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,s().delete("/news/".concat(e),{headers:(0,a.Z)({},t)});case 2:c(d(n));case 3:case"end":return r.stop()}}),o)})));return function(e){return c.apply(this,arguments)}}()}},4587:function(e,n,t){t.d(n,{Z:function(){return K}});var r=t(4942),a=t(7462),o=t(2791),c=t(1694),u=t.n(c),i=t(4925),s=t(1413),l=t(5048),p=t(3144),f=t(136),d=t(7277),v=function(e){(0,f.Z)(t,e);var n=(0,d.Z)(t);function t(e){var r;(0,l.Z)(this,t),(r=n.call(this,e)).handleChange=function(e){var n=r.props,t=n.disabled,a=n.onChange;t||("checked"in r.props||r.setState({checked:e.target.checked}),a&&a({target:(0,s.Z)((0,s.Z)({},r.props),{},{checked:e.target.checked}),stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()},nativeEvent:e.nativeEvent}))},r.saveInput=function(e){r.input=e};var a="checked"in e?e.checked:e.defaultChecked;return r.state={checked:a},r}return(0,p.Z)(t,[{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"render",value:function(){var e,n=this.props,t=n.prefixCls,c=n.className,s=n.style,l=n.name,p=n.id,f=n.type,d=n.disabled,v=n.readOnly,h=n.tabIndex,y=n.onClick,Z=n.onFocus,m=n.onBlur,k=n.onKeyDown,g=n.onKeyPress,b=n.onKeyUp,x=n.autoFocus,C=n.value,w=n.required,E=(0,i.Z)(n,["prefixCls","className","style","name","id","type","disabled","readOnly","tabIndex","onClick","onFocus","onBlur","onKeyDown","onKeyPress","onKeyUp","autoFocus","value","required"]),O=Object.keys(E).reduce((function(e,n){return"aria-"!==n.substr(0,5)&&"data-"!==n.substr(0,5)&&"role"!==n||(e[n]=E[n]),e}),{}),N=this.state.checked,_=u()(t,c,(e={},(0,r.Z)(e,"".concat(t,"-checked"),N),(0,r.Z)(e,"".concat(t,"-disabled"),d),e));return o.createElement("span",{className:_,style:s},o.createElement("input",(0,a.Z)({name:l,id:p,type:f,required:w,readOnly:v,disabled:d,tabIndex:h,className:"".concat(t,"-input"),checked:!!N,onClick:y,onFocus:Z,onBlur:m,onKeyUp:b,onKeyDown:k,onKeyPress:g,onChange:this.handleChange,autoFocus:x,ref:this.saveInput,value:C},O)),o.createElement("span",{className:"".concat(t,"-inner")}))}}],[{key:"getDerivedStateFromProps",value:function(e,n){return"checked"in e?(0,s.Z)((0,s.Z)({},n),{},{checked:e.checked}):null}}]),t}(o.Component);v.defaultProps={prefixCls:"rc-checkbox",className:"",style:{},type:"checkbox",defaultChecked:!1,onFocus:function(){},onBlur:function(){},onChange:function(){},onKeyDown:function(){},onKeyPress:function(){},onKeyUp:function(){}};var h=v,y=t(1940),Z=t(3433),m=t(9439),k=t(1818),g=t(3785),b=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]])}return t},x=o.createContext(null),C=function(e,n){var t=e.defaultValue,c=e.children,i=e.options,s=void 0===i?[]:i,l=e.prefixCls,p=e.className,f=e.style,d=e.onChange,v=b(e,["defaultValue","children","options","prefixCls","className","style","onChange"]),h=o.useContext(g.E_),y=h.getPrefixCls,C=h.direction,w=o.useState(v.value||t||[]),E=(0,m.Z)(w,2),O=E[0],N=E[1],_=o.useState([]),S=(0,m.Z)(_,2),I=S[0],K=S[1];o.useEffect((function(){"value"in v&&N(v.value||[])}),[v.value]);var F=function(){return s.map((function(e){return"string"===typeof e||"number"===typeof e?{label:e,value:e}:e}))},j=y("checkbox",l),D="".concat(j,"-group"),T=(0,k.Z)(v,["value","disabled"]);s&&s.length>0&&(c=F().map((function(e){return o.createElement(P,{prefixCls:j,key:e.value.toString(),disabled:"disabled"in e?e.disabled:v.disabled,value:e.value,checked:-1!==O.indexOf(e.value),onChange:e.onChange,className:"".concat(D,"-item"),style:e.style},e.label)})));var A={toggleOption:function(e){var n=O.indexOf(e.value),t=(0,Z.Z)(O);-1===n?t.push(e.value):t.splice(n,1),"value"in v||N(t);var r=F();null===d||void 0===d||d(t.filter((function(e){return-1!==I.indexOf(e)})).sort((function(e,n){return r.findIndex((function(n){return n.value===e}))-r.findIndex((function(e){return e.value===n}))})))},value:O,disabled:v.disabled,name:v.name,registerValue:function(e){K((function(n){return[].concat((0,Z.Z)(n),[e])}))},cancelValue:function(e){K((function(n){return n.filter((function(n){return n!==e}))}))}},R=u()(D,(0,r.Z)({},"".concat(D,"-rtl"),"rtl"===C),p);return o.createElement("div",(0,a.Z)({className:R,style:f},T,{ref:n}),o.createElement(x.Provider,{value:A},c))},w=o.forwardRef(C),E=o.memo(w),O=t(4824),N=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]])}return t},_=function(e,n){var t,c=e.prefixCls,i=e.className,s=e.children,l=e.indeterminate,p=void 0!==l&&l,f=e.style,d=e.onMouseEnter,v=e.onMouseLeave,Z=e.skipGroup,m=void 0!==Z&&Z,k=N(e,["prefixCls","className","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup"]),b=o.useContext(g.E_),C=b.getPrefixCls,w=b.direction,E=o.useContext(x),_=(0,o.useContext)(y.aM).isFormItemInput,S=o.useRef(k.value);o.useEffect((function(){null===E||void 0===E||E.registerValue(k.value),(0,O.Z)("checked"in k||!!E||!("value"in k),"Checkbox","`value` is not a valid prop, do you mean `checked`?")}),[]),o.useEffect((function(){if(!m)return k.value!==S.current&&(null===E||void 0===E||E.cancelValue(S.current),null===E||void 0===E||E.registerValue(k.value),S.current=k.value),function(){return null===E||void 0===E?void 0:E.cancelValue(k.value)}}),[k.value]);var P=C("checkbox",c),I=(0,a.Z)({},k);E&&!m&&(I.onChange=function(){k.onChange&&k.onChange.apply(k,arguments),E.toggleOption&&E.toggleOption({label:s,value:k.value})},I.name=E.name,I.checked=-1!==E.value.indexOf(k.value),I.disabled=k.disabled||E.disabled);var K=u()((t={},(0,r.Z)(t,"".concat(P,"-wrapper"),!0),(0,r.Z)(t,"".concat(P,"-rtl"),"rtl"===w),(0,r.Z)(t,"".concat(P,"-wrapper-checked"),I.checked),(0,r.Z)(t,"".concat(P,"-wrapper-disabled"),I.disabled),(0,r.Z)(t,"".concat(P,"-wrapper-in-form-item"),_),t),i),F=u()((0,r.Z)({},"".concat(P,"-indeterminate"),p)),j=p?"mixed":void 0;return o.createElement("label",{className:K,style:f,onMouseEnter:d,onMouseLeave:v},o.createElement(h,(0,a.Z)({"aria-checked":j},I,{prefixCls:P,className:F,ref:n})),void 0!==s&&o.createElement("span",null,s))},S=o.forwardRef(_);S.displayName="Checkbox";var P=S,I=P;I.Group=E,I.__ANT_CHECKBOX=!0;var K=I}}]);
//# sourceMappingURL=33.7cda359c.chunk.js.map