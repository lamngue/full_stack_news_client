"use strict";(self.webpackChunkfull_stack_news_client=self.webpackChunkfull_stack_news_client||[]).push([[671],{671:function(e,n,t){t.r(n),t.d(n,{default:function(){return ee}});var r=t(9439),a=t(2791),i=(t(3508),t(1087)),o=t(7689),c=t(5671),s=t(5048),l=t(3144),u=t(136),p=t(7277),d=t(7462),f=t(1608),m=t(1694),h=t.n(m),v=t(1818),y=t(5033),Z=(0,a.createContext)({prefixCls:"",firstLevel:!0,inlineCollapsed:!1}),x=t(1113);var g=function(e){var n,t,r=e.popupClassName,i=e.icon,o=e.title,c=e.theme,s=a.useContext(Z),l=s.prefixCls,u=s.inlineCollapsed,p=s.antdMenuTheme,m=(0,f.Xl)();if(i){var y=(0,x.l$)(o)&&"span"===o.type;t=a.createElement(a.Fragment,null,(0,x.Tm)(i,{className:h()((0,x.l$)(i)?null===(n=i.props)||void 0===n?void 0:n.className:"","".concat(l,"-item-icon"))}),y?o:a.createElement("span",{className:"".concat(l,"-title-content")},o))}else t=u&&!m.length&&o&&"string"===typeof o?a.createElement("div",{className:"".concat(l,"-inline-collapsed-noicon")},o.charAt(0)):a.createElement("span",{className:"".concat(l,"-title-content")},o);var g=a.useMemo((function(){return(0,d.Z)((0,d.Z)({},s),{firstLevel:!1})}),[s]);return a.createElement(Z.Provider,{value:g},a.createElement(f.Wd,(0,d.Z)({},(0,v.Z)(e,["icon"]),{title:t,popupClassName:h()(l,"".concat(l,"-").concat(c||p),r)})))},w=t(4942),C=t(5501),b=t(8529),E=t(6199),j=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]])}return t},O=function(e){(0,u.Z)(t,e);var n=(0,p.Z)(t);function t(){var e;return(0,s.Z)(this,t),(e=n.apply(this,arguments)).renderItem=function(n){var t,r,i=n.siderCollapsed,o=e.context,c=o.prefixCls,s=o.firstLevel,l=o.inlineCollapsed,u=o.direction,p=o.disableMenuItemTitleTooltip,m=e.props,v=m.className,y=m.children,Z=e.props,g=Z.title,E=Z.icon,O=Z.danger,k=j(Z,["title","icon","danger"]),N=g;"undefined"===typeof g?N=s?y:"":!1===g&&(N="");var I={title:N};i||l||(I.title=null,I.visible=!1);var S=(0,C.Z)(y).length,M=a.createElement(f.ck,(0,d.Z)({},k,{className:h()((t={},(0,w.Z)(t,"".concat(c,"-item-danger"),O),(0,w.Z)(t,"".concat(c,"-item-only-child"),1===(E?S+1:S)),t),v),title:"string"===typeof g?g:void 0}),(0,x.Tm)(E,{className:h()((0,x.l$)(E)?null===(r=E.props)||void 0===r?void 0:r.className:"","".concat(c,"-item-icon"))}),e.renderItemChildren(l));return p||(M=a.createElement(b.Z,(0,d.Z)({},I,{placement:"rtl"===u?"left":"right",overlayClassName:"".concat(c,"-inline-collapsed-tooltip")}),M)),M},e}return(0,l.Z)(t,[{key:"renderItemChildren",value:function(e){var n=this.context,t=n.prefixCls,r=n.firstLevel,i=this.props,o=i.icon,c=i.children,s=a.createElement("span",{className:"".concat(t,"-title-content")},c);return(!o||(0,x.l$)(c)&&"span"===c.type)&&c&&e&&r&&"string"===typeof c?a.createElement("div",{className:"".concat(t,"-inline-collapsed-noicon")},c.charAt(0)):s}},{key:"render",value:function(){return a.createElement(E.D.Consumer,null,this.renderItem)}}]),t}(a.Component);O.contextType=Z;var k=t(3785),N=t(4824),I=t(9464),S=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]])}return t},M=function(e){var n=e.prefixCls,t=e.className,r=e.dashed,i=S(e,["prefixCls","className","dashed"]),o=(0,a.useContext(k.E_).getPrefixCls)("menu",n),c=h()((0,w.Z)({},"".concat(o,"-item-divider-dashed"),!!r),t);return a.createElement(f.iz,(0,d.Z)({className:c},i))},T=t(1002),P=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]])}return t};function H(e){return(e||[]).map((function(e,n){if(e&&"object"===(0,T.Z)(e)){var t=e,r=t.label,i=t.children,o=t.key,c=t.type,s=P(t,["label","children","key","type"]),l=null!==o&&void 0!==o?o:"tmp-".concat(n);return i||"group"===c?"group"===c?a.createElement(f.BW,(0,d.Z)({key:l},s,{title:r}),H(i)):a.createElement(g,(0,d.Z)({key:l},s,{title:r}),H(i)):"divider"===c?a.createElement(M,(0,d.Z)({key:l},s)):a.createElement(O,(0,d.Z)({key:l},s),r)}return null})).filter((function(e){return e}))}function _(e){return a.useMemo((function(){return e?H(e):e}),[e])}var z=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]])}return t},V=(0,a.forwardRef)((function(e,n){var t=a.useContext(k.E_),r=t.getPrefixCls,i=t.getPopupContainer,o=t.direction,c=r(),s=e.prefixCls,l=e.className,u=e.theme,p=void 0===u?"light":u,m=e.expandIcon,g=e._internalDisableMenuItemTitleTooltip,w=e.inlineCollapsed,C=e.siderCollapsed,b=e.items,E=e.children,j=z(e,["prefixCls","className","theme","expandIcon","_internalDisableMenuItemTitleTooltip","inlineCollapsed","siderCollapsed","items","children"]),O=(0,v.Z)(j,["collapsedWidth"]),S=_(b)||E;(0,N.Z)(!("inlineCollapsed"in e&&"inline"!==e.mode),"Menu","`inlineCollapsed` should only be used when `mode` is inline."),(0,N.Z)(!(void 0!==e.siderCollapsed&&"inlineCollapsed"in e),"Menu","`inlineCollapsed` not control Menu under Sider. Should set `collapsed` on Sider instead."),(0,N.Z)(!!b&&!E,"Menu","`children` will be removed in next major version. Please use `items` instead.");var M=a.useMemo((function(){return void 0!==C?C:w}),[w,C]),T={horizontal:{motionName:"".concat(c,"-slide-up")},inline:I.ZP,other:{motionName:"".concat(c,"-zoom-big")}},P=r("menu",s),H=h()("".concat(P,"-").concat(p),l),V=a.useMemo((function(){return{prefixCls:P,inlineCollapsed:M||!1,antdMenuTheme:p,direction:o,firstLevel:!0,disableMenuItemTitleTooltip:g}}),[P,M,p,o,g]);return a.createElement(Z.Provider,{value:V},a.createElement(f.ZP,(0,d.Z)({getPopupContainer:i,overflowedIndicator:a.createElement(y.Z,null),overflowedIndicatorPopupClassName:"".concat(P,"-").concat(p)},O,{inlineCollapsed:M,className:H,prefixCls:P,direction:o,defaultMotions:T,expandIcon:"function"===typeof m?m:(0,x.Tm)(m,{className:"".concat(P,"-submenu-expand-icon")}),ref:n}),S))})),L=function(e){(0,u.Z)(t,e);var n=(0,p.Z)(t);function t(){var e;return(0,s.Z)(this,t),(e=n.apply(this,arguments)).focus=function(n){var t;null===(t=e.menu)||void 0===t||t.focus(n)},e}return(0,l.Z)(t,[{key:"render",value:function(){var e=this;return a.createElement(E.D.Consumer,null,(function(n){return a.createElement(V,(0,d.Z)({ref:function(n){e.menu=n}},e.props,n))}))}}]),t}(a.Component);L.Divider=M,L.Item=O,L.SubMenu=g,L.ItemGroup=f.BW;var A=L,W=t(9434),R=t(1638),D=t(3125),K=t(1413),B={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"},F=t(4291),U=function(e,n){return a.createElement(F.Z,(0,K.Z)((0,K.Z)({},e),{},{ref:n,icon:B}))};U.displayName="PlusSquareOutlined";var $=a.forwardRef(U),G={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 161H699.2c-49.1 0-97.1 14.1-138.4 40.7L512 233l-48.8-31.3A255.2 255.2 0 00324.8 161H96c-17.7 0-32 14.3-32 32v568c0 17.7 14.3 32 32 32h228.8c49.1 0 97.1 14.1 138.4 40.7l44.4 28.6c1.3.8 2.8 1.3 4.3 1.3s3-.4 4.3-1.3l44.4-28.6C602 807.1 650.1 793 699.2 793H928c17.7 0 32-14.3 32-32V193c0-17.7-14.3-32-32-32zM324.8 721H136V233h188.8c35.4 0 69.8 10.1 99.5 29.2l48.8 31.3 6.9 4.5v462c-47.6-25.6-100.8-39-155.2-39zm563.2 0H699.2c-54.4 0-107.6 13.4-155.2 39V298l6.9-4.5 48.8-31.3c29.7-19.1 64.1-29.2 99.5-29.2H888v488zM396.9 361H211.1c-3.9 0-7.1 3.4-7.1 7.5v45c0 4.1 3.2 7.5 7.1 7.5h185.7c3.9 0 7.1-3.4 7.1-7.5v-45c.1-4.1-3.1-7.5-7-7.5zm223.1 7.5v45c0 4.1 3.2 7.5 7.1 7.5h185.7c3.9 0 7.1-3.4 7.1-7.5v-45c0-4.1-3.2-7.5-7.1-7.5H627.1c-3.9 0-7.1 3.4-7.1 7.5zM396.9 501H211.1c-3.9 0-7.1 3.4-7.1 7.5v45c0 4.1 3.2 7.5 7.1 7.5h185.7c3.9 0 7.1-3.4 7.1-7.5v-45c.1-4.1-3.1-7.5-7-7.5zm416 0H627.1c-3.9 0-7.1 3.4-7.1 7.5v45c0 4.1 3.2 7.5 7.1 7.5h185.7c3.9 0 7.1-3.4 7.1-7.5v-45c.1-4.1-3.1-7.5-7-7.5z"}}]},name:"read",theme:"outlined"},q=function(e,n){return a.createElement(F.Z,(0,K.Z)((0,K.Z)({},e),{},{ref:n,icon:G}))};q.displayName="ReadOutlined";var X=a.forwardRef(q),J=t(184),Q=c.Z.Content,Y=c.Z.Sider,ee=function(){var e=(0,D.Z)().width,n=(0,a.useState)(""),t=(0,r.Z)(n,2),s=t[0],l=t[1],u=(0,W.I0)(),p=(0,o.s0)(),d=(0,W.v9)((function(e){return e.user}));(0,a.useEffect)((function(){d&&0===Object.keys(d).length&&p("/")}),[d]),(0,a.useEffect)((function(){u((0,R.pE)())}),[]);return(0,J.jsxs)(c.Z,{className:"main-layout",style:{minHeight:"100vh"},children:[(0,J.jsx)(Y,{breakpoint:"md",children:(0,J.jsxs)(A,{theme:"dark",onClick:function(e){l(e.key)},defaultSelectedKeys:[s],mode:"inline",children:[(0,J.jsxs)(A.Item,{icon:e<750?(0,J.jsx)($,{}):null,children:[(0,J.jsx)("span",{children:e>=750?"Create News":null}),(0,J.jsx)(i.VK,{to:"/main/create"})]},"1"),(0,J.jsxs)(A.SubMenu,{icon:e<750?(0,J.jsx)(X,{}):null,title:(0,J.jsx)(J.Fragment,{children:(0,J.jsx)("span",{children:e>=750?"All Categories":null})}),children:[(0,J.jsxs)(A.Item,{children:[(0,J.jsx)(i.VK,{to:"/main/all-post"}),"all"]},"all"),(0,J.jsxs)(A.Item,{children:[(0,J.jsx)(i.VK,{to:"/main/category/sports"}),"sports"]},"sports"),(0,J.jsxs)(A.Item,{children:[(0,J.jsx)(i.VK,{to:"/main/category/business"}),"business"]},"business"),(0,J.jsxs)(A.Item,{children:[(0,J.jsx)(i.VK,{to:"/main/category/politics"}),"politics"]},"politics"),(0,J.jsxs)(A.Item,{children:[(0,J.jsx)(i.VK,{to:"/main/category/entertainment"}),"entertainment"]},"entertainment"),(0,J.jsxs)(A.Item,{children:[(0,J.jsx)(i.VK,{to:"/main/category/tech"}),"tech"]},"tech")]},"2")]})}),(0,J.jsx)(c.Z,{className:"site-layout",children:(0,J.jsx)(Q,{style:{margin:"0 16px"},children:(0,J.jsx)("div",{className:"site-layout-background",style:{padding:24,minHeight:360},children:(0,J.jsx)(o.j3,{})})})})]})}},1638:function(e,n,t){t.d(n,{JR:function(){return u},MK:function(){return v},TX:function(){return d},aL:function(){return f},f_:function(){return Z},hr:function(){return m},kN:function(){return x},pE:function(){return h},pH:function(){return p},yQ:function(){return y}});var r=t(4165),a=t(1413),i=t(5861),o=t(4569),c=t.n(o),s=t(8329),l=function(){return c().create({baseURL:"https://full-stack-news-backend.herokuapp.com",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer ".concat(s.Z.get("token")),credentials:"same-origin"}})},u=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,i.Z)((0,r.Z)().mark((function t(){var i;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l().post("/user/register",e,{headers:(0,a.Z)({},n)});case 2:return i=t.sent,t.abrupt("return",i);case 4:case"end":return t.stop()}}),t)})))},p=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){var t=(0,i.Z)((0,r.Z)().mark((function t(i){var o;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l().post("/user/login",e,{headers:(0,a.Z)({},n)});case 2:o=t.sent,s.Z.set("token",o.data.token),i({type:"SET_USER",payload:o});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},d=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){var t=(0,i.Z)((0,r.Z)().mark((function t(i){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l().post("/user/logout",e,{headers:(0,a.Z)({},n)});case 2:t.sent,s.Z.remove("token"),i({type:"LOGOUT_USER",payload:{}});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},f=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return function(){var c=(0,i.Z)((0,r.Z)().mark((function i(c){var s;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,l().get("/news/".concat(e,"?size=").concat(n,"&page=").concat(t),{headers:(0,a.Z)({},o)});case 2:s=r.sent,c({type:"FETCH_NEWS",payload:s.data});case 4:case"end":return r.stop()}}),i)})));return function(e){return c.apply(this,arguments)}}()},m=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){var t=(0,i.Z)((0,r.Z)().mark((function t(i){var o;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l().get("/news/detail/".concat(e),{headers:(0,a.Z)({},n)});case 2:o=t.sent,i({type:"FETCH_NEWS_DETAIL",payload:o.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var n=(0,i.Z)((0,r.Z)().mark((function n(t){var i;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l().get("/categories",{headers:(0,a.Z)({},e)});case 2:i=n.sent,t({type:"FETCH_CATEGORIES",payload:i.data});case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},v=function(){return function(e){e({type:"CLEAR_NEWS",payload:[]})}},y=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){var t=(0,i.Z)((0,r.Z)().mark((function t(i){var o;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l().post("/news/",e,{headers:(0,a.Z)({},n)});case 2:o=t.sent,i({type:"ADD_NEWS",payload:o.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Z=function(e){var n=e.values,t=e.id,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){var e=(0,i.Z)((0,r.Z)().mark((function e(i){var c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l().put("/news/".concat(t),n,{headers:(0,a.Z)({},o)});case 2:c=e.sent,i({type:"EDIT_NEWS",payload:c.data});case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},x=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(){var o=(0,i.Z)((0,r.Z)().mark((function i(o){return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,l().delete("/news/".concat(e),{headers:(0,a.Z)({},t)});case 2:o(f(n));case 3:case"end":return r.stop()}}),i)})));return function(e){return o.apply(this,arguments)}}()}},3125:function(e,n,t){var r=t(9439),a=t(2791);n.Z=function(){var e="undefined"===typeof window,n=(0,a.useState)({width:e?1600:window.innerWidth,height:e?800:window.innerHeight}),t=(0,r.Z)(n,2),i=t[0],o=t[1],c=function(){o({width:window.innerWidth,height:window.innerHeight})};return(0,a.useEffect)((function(){return window.addEventListener("resize",c),function(){window.removeEventListener("resize",c)}}),[]),i}}}]);
//# sourceMappingURL=671.57d43fae.chunk.js.map